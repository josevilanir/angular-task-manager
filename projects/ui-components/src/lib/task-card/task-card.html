<div 
  class="task-card" 
  [class.completed]="task.completed"
  [class.overdue]="isOverdue()"
  style="
    background: white;
    border-radius: 16px;
    padding: 1.5rem;
    margin-bottom: 1rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    border-left: 4px solid;
    animation: slideInLeft 0.4s ease;
  "
  [style.border-left-color]="
    task.priority === 'high' ? '#ef4444' : 
    task.priority === 'medium' ? '#f59e0b' : 
    '#10b981'
  "
  [style.opacity]="task.completed ? '0.7' : '1'"
>
  <div class="flex align-items-start gap-3">
    <!-- Checkbox para completar -->
    <p-checkbox 
      [(ngModel)]="task.completed" 
      [binary]="true" 
      (onChange)="toggleComplete()"
      [inputId]="'task-' + task.id"
      styleClass="custom-checkbox"
    />

    <!-- Conteúdo da tarefa -->
    <div class="flex-grow-1">
      <div class="flex justify-content-between align-items-start mb-2">
        <h3 
          [style.text-decoration]="task.completed ? 'line-through' : 'none'"
          style="margin: 0; color: #1f2937; font-size: 1.25rem; font-weight: 700;"
        >
          {{ task.title }}
        </h3>
        
        <!-- Tag de prioridade -->
        <p-tag 
          [value]="getPriorityLabel(task.priority)" 
          [severity]="getPrioritySeverity(task.priority)"
          [style]="{
            'font-weight': '600',
            'padding': '0.35rem 0.75rem',
            'border-radius': '8px'
          }"
        />
      </div>

      <p 
        [style.text-decoration]="task.completed ? 'line-through' : 'none'"
        style="color: #6b7280; margin: 0.5rem 0 1rem 0; line-height: 1.6;"
      >
        {{ task.description }}
      </p>

      <!-- Informações adicionais -->
      <div class="flex align-items-center gap-3 mb-3" style="font-size: 0.875rem; color: #6b7280;">
        <div class="flex align-items-center gap-1">
          <i class="pi pi-calendar" style="font-size: 0.875rem;"></i>
          <span>Vencimento: {{ formatDate(task.dueDate) }}</span>
        </div>
        
        <div class="flex align-items-center gap-1" *ngIf="isOverdue()">
          <i class="pi pi-exclamation-triangle" style="color: #ef4444; font-size: 0.875rem;"></i>
          <span style="color: #ef4444; font-weight: 600;">Atrasada</span>
        </div>

        <div class="flex align-items-center gap-1" *ngIf="task.completed">
          <i class="pi pi-check-circle" style="color: #10b981; font-size: 0.875rem;"></i>
          <span style="color: #10b981; font-weight: 600;">Concluída</span>
        </div>
      </div>

      <!-- Botões de ação -->
      <div class="flex gap-2">
        <p-button
          icon="pi pi-pencil"
          label="Editar"
          (onClick)="editTask()"
          [outlined]="true"
          severity="info"
          size="small"
          [style]="{
            'border-radius': '8px',
            'padding': '0.5rem 1rem',
            'font-weight': '600'
          }"
        />
        <p-button
          icon="pi pi-trash"
          label="Excluir"
          (onClick)="deleteTask()"
          [outlined]="true"
          severity="danger"
          size="small"
          [style]="{
            'border-radius': '8px',
            'padding': '0.5rem 1rem',
            'font-weight': '600'
          }"
        />
      </div>
    </div>
  </div>
</div>